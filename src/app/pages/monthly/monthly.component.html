<style>
    table {
        border-spacing: 0px;

        margin-left: auto;
        margin-right: auto;
    }
</style>

<body>
    <div class="container-xl">
        <div class="CalendarBox" *ngIf="loaded">
            <div *ngIf="!daily">
                <div *ngIf="!specific" class="col centerparent" style="margin-top:19rem; margin-bottom:19rem">
                    <div style="width:350px">
                        <div class="card" style="width:350px">
                            <div class="card-body">
                                <form class="" [formGroup]="YearToSelect">
                                    <h4>Select a Year</h4>
                                    <div class="form-group row" style="padding-top: 10px; padding-bottom:10px">
                                        <div class="">

                                            <select class="" formControlName="year" style="height:35px; width:100%" required id="year" (change)="searchyear()">
                                                <option selected>{{select}}</option>
                                                <option *ngFor="let year of TheYears">{{year}}</option>

                                            </select>
                                        </div>

                                    </div>
                                </form>
                                <form class="" [formGroup]="MonthToSelect">
                                    <h4>Select a Month</h4>
                                    <div class="form-group row" style="padding-top: 10px; padding-bottom:10px">
                                        <div class="">

                                            <select class="" formControlName="month" style="height:35px;width:100%" required id="month">
                                                <option selected>select...</option>
                                                <option *ngFor="let month1 of Months">{{month1 | titlecase}}</option>
                                            </select>
                                        </div>

                                    </div>
                                </form>
                                <a class="btn btn-outline-primary" (click)="selected()">Select</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="specific" style="margin-top:2rem; margin-bottom:2rem">

                    <div class="card">
                        <div class="card-body">
                            <div style="padding-bottom: 15px">

                                <a class="btn btn-outline-primary" (click)="back()">back</a>

                                <a class="btn btn-outline-primary" (click)="dailyview()" style="float:right">daily view</a>

                            </div>
                            <div style="max-height: 780px; overflow-y:auto;">
                                <table class="table table-striped table-hover">
                                    <thead class="word-wrap">
                                        <th class="divisor">Hostaway</th>
                                    </thead>

                                    <tbody>
                                        <tr class="">

                                            <th>
                                                <form [formGroup]="LocFilterForm">
                                                    <div class="form-group row" style="padding: 5px">
                                                        <div class="divisor col-9"><select class="table-filter" formControlName="name" style="height:35px;width:100%;" required id="name" (change)="filterLocation()">
                                                                <option selected>select...</option>
                                                                <option *ngFor="let loc of Locations; let j = index">{{loc}}</option>

                                                            </select></div>
                                                        <div class="col">
                                                            days rented: {{days}}
                                                        </div>
                                                    </div>

                                                </form>

                                            </th>
                                            <th class="divisor">{{month}} {{year}}</th>
                                            <th (click)="price()">Total: ${{total | number :'1.2-2'}} {{SortType === 1 && sortType === "price" ? "▲" : ""}} {{SortType === 2 && sortType === "price" ? "▼" : ""}}</th>
                                            <th></th>
                                            <td></td>
                                        </tr>

                                        <tr class="" *ngFor="let day of ShownDay | myfilter:filterargs; let i = index ">
                                            <th scope="row" (click)="popup(day.locationName)">{{day.locationName}}</th>
                                            <td>{{day.date}}</td>
                                            <td>${{day.priceForDay | number :'1.2-2'}} </td>
                                            <td></td>
                                            <td></td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="redirect" class="centerparent" style="margin-top:23rem;margin-bottom:23rem;">
                <div class="col centerparent">
                    <div class="card" style="width:300px">
                        <div class="card-body">
                            <div>
                                <span>redirect to {{redirectName}} monthly view?</span>
                            </div>
                            <a class="btn btn-outline-success" (click)="redirectLocation(redirectName)" style="float:left; margin-left:20%;">Yes</a>
                            <a class="btn btn-outline-success" (click)="hide()" style="float:right;margin-right:20%">No</a>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="redirectDaily" class="centerparent" style="margin-top:23rem;margin-bottom:23rem;">
                <div class="col centerparent">
                    <div class="card" style="width:300px">
                        <div class="card-body">
                            <div>
                                <span>redirect to {{redirectName}} monthly view?</span>
                            </div>
                            <a class="btn btn-outline-success" (click)="redirectLocation(redirectName)" style="float:left; margin-left:20%;">Yes</a>
                            <a class="btn btn-outline-success" (click)="hideday()" style="float:right;margin-right:20%">No</a>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="daily">
                <div *ngIf="specific" style="margin-top:2rem; margin-bottom:2rem">
                    <div class="card">
                        <div class="card-body">

                            <div style="padding-bottom: 15px">

                                <a class="btn btn-outline-primary" (click)="back()" style="margin-right:4%">back</a>

                                <a class="btn btn-outline-primary" (click)="monthly()" style="float:right">monthly view</a>


                            </div>
                            <div style="max-height: 780px; overflow-y:auto;">
                                <table class="table table-striped table-hover">

                                    <thead class="word-wrap">
                                        <th class="divisor">Hostaway</th>
                                    </thead>
                                    <tbody>
                                        <tr class="">

                                            <th class="divisor">
                                                {{month}} {{year}}
                                            </th>
                                            <th>Locations</th>
                                            <th (click)="priceDaily()">Daily Total {{daysUp ? "▼" : ""}} {{daysDow ? "▲" : ""}}</th>
                                            <th>days rented: {{days}} </th>
                                            <td></td>
                                        </tr>


                                        <tr class="" *ngFor="let l of dayInfo.DailyLocs;let i = index">
                                            <th scope="row">{{dayInfo.DayDates[i]}}</th>
                                            <td class="wrapped"><a style="font-weight:bold" (click)="popupday(loc)" *ngFor="let loc of l;let j = index" [id]="'Location'+i+''+j"> {{loc}} | </a></td>
                                            <td>${{dayInfo.DayProfit[i] | number: '1.2-2'}} </td>
                                            <td></td>
                                            <td></td>

                                        </tr>
                                        <tr>
                                            <th></th>
                                            <th></th>
                                            <th>Total: ${{total | number :'1.2-2'}}</th>
                                            <th></th>
                                            <th></th>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>